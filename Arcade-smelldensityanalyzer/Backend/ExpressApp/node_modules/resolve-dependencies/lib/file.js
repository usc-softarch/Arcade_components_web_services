"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = require("path");
const esmRegex = /(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?(?!type)([^"'\(\)\n; ]+)\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/;
function isScript(code) {
    return !Boolean(code.match(esmRegex));
}
exports.isScript = isScript;
const variableImports = false;
const notNodeModule = /^\.|^\//;
function isNodeModule(request) {
    return !notNodeModule.test(request);
}
exports.isNodeModule = isNodeModule;
function ensureDottedRelative(from, to) {
    let rel = path_1.relative(from, to);
    if (!rel.startsWith('.')) {
        rel = './' + rel;
    }
    return rel.split(path_1.sep).join('/');
}
exports.ensureDottedRelative = ensureDottedRelative;
function createFile(absPath) {
    return {
        deps: {},
        absPath,
        contents: null,
        variableImports,
    };
}
exports.createFile = createFile;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9maWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0JBQW9DO0FBRXBDLE1BQU0sUUFBUSxHQUFHLDBMQUEwTCxDQUFBO0FBRTNNLFNBQWdCLFFBQVEsQ0FBQyxJQUFZO0lBQ25DLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFBO0FBQ3ZDLENBQUM7QUFGRCw0QkFFQztBQTBCRCxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUE7QUFDN0IsTUFBTSxhQUFhLEdBQUcsU0FBUyxDQUFBO0FBRS9CLFNBQWdCLFlBQVksQ0FBQyxPQUFlO0lBQzFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQ3JDLENBQUM7QUFGRCxvQ0FFQztBQUVELFNBQWdCLG9CQUFvQixDQUFDLElBQVksRUFBRSxFQUFVO0lBQzNELElBQUksR0FBRyxHQUFHLGVBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7SUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDeEIsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUE7S0FDakI7SUFDRCxPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2pDLENBQUM7QUFORCxvREFNQztBQUVELFNBQWdCLFVBQVUsQ0FBQyxPQUFlO0lBQ3hDLE9BQU87UUFDTCxJQUFJLEVBQUUsRUFBRTtRQUNSLE9BQU87UUFDUCxRQUFRLEVBQUUsSUFBSTtRQUNkLGVBQWU7S0FDaEIsQ0FBQTtBQUNILENBQUM7QUFQRCxnQ0FPQyJ9